// http://www.mzsolutions.eu/mzPivotGrid-configurator.html
// http://mbostock.github.com/protovis/
// http://marijnhaverbeke.nl/blog/codemirror-line-tree.html
// http://www.flexmonster.com/Pivot-Table-Features/Web-Pivot-Table

/*
    Steps:
    1) Get the base infrastructure and key commands from ace
    2) Build the datastructure for the headings
    3) Build the virtual viewport with layers (like ace, with headings hor and headings ver as layer)
    4) Add folding widgets to headings
    5) Add infra for loading data incrementally
*/

var x = [];
for (var i = 0; i < 100000; i++) {
    x[i] = Array(100000);
}

console.log("starting")
var dt = new Date();
for (var y, i = 0; i < 100; i++) {
    y = x[i];
    var max = 0, t;
    for (var j = 0; j < 100; j++) {
       max = (t = (y[j] || "asdad").length) > max ? t : max;
    }
    if (i%1000 == 0) console.log(i);
    y.max = max;
}
new Date() - dt;

var x = Array(100000);
var dt = new Date();
for (var i = 0; i < 100000; i++) {
    x.splice(5000, 0, "test");
    if (i%1000 == 0) console.log(i);
}
new Date() - dt;