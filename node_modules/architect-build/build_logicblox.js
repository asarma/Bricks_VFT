var build = require("./build");
var pathConfig = require("./path_config");
var ROOT = pathConfig.root;


var compress = process.argv.indexOf("c") != -1;
var verbose = process.argv.indexOf("v") != -1;
var debug = process.argv.indexOf("d") != -1;

build(ROOT + "configs/logicblox.js", {
    pathConfig    : pathConfig,
    enableBrowser : true,
    includeConfig : true,
    debug         : debug,
    compress      : compress,
    log           : verbose,
    basepath      : "/home/ubuntu/newclient",
    filter        : [],
    // copy          : [],
    withRequire   : true,
    outputFolder  : ROOT + "node_modules/build/lb-c9",
    outputFile    : "logicblox.js",
    mapFile       : "logicblox.js.map"
    // mapRoot       : "http://example.com"
}, function(err, data){
    if (err) console.error(err.message);
});

build([
    "ace/lib/fixoldbrowsers",
    "plugins/c9.ide.language/worker",
    "plugins/c9.ide.language.generic/local_completer",
    "plugins/c9.ide.language.generic/snippet_completer",
    "plugins/c9.ide.language.generic/open_files_local_completer",
    "plugins/c9.ide.language.generic/mode_completer",
    "plugins/c9.ide.language.generic/simple/shell",
    "plugins/logicblox.language.logiql/logiql_handler",
    "plugins/logicblox.language.logiql_commands/logiql_commands_handler"
], {
    enableBrowser : true,
    includeConfig : false,
    pathConfig    : pathConfig,
    noArchitect   : true,
    compress      : compress,
    //filter        : ["ace"],
    log           : verbose,
    additonal     : ["../ace/lib/ace/worker/worker.js"],
    basepath      : "/home/ubuntu/newclient",
    outputFolder  : ROOT + "node_modules/build/lb-c9",
    outputFile    : "worker-c9.ide.language.js",
    mapFile       : "worker-c9.ide.language.js.map"
    // mapRoot       : "http://example.com"
}, function(err, data){
    if (err) console.error(err.message);
});
 